(this["webpackJsonpempty-react"]=this["webpackJsonpempty-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(7),a=n(8),i=n(2),c=n(3),o=n(5),u=n(4),l=(n(13),n(14),n(0)),h=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleClick=function(){var e=s.props,t=e.info,n=e.position;s.props.onClick&&s.props.onClick(n,t)},s.state={},s}return Object(c.a)(n,[{key:"getSquareContent",value:function(){var e=this.props,t=e.info,n=e.position;return t&&(n=t),n}},{key:"render",value:function(){return Object(l.jsx)("div",{className:"square",onClick:this.handleClick,children:this.getSquareContent()})}}]),n}(s.Component),j=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={},s}return Object(c.a)(n,[{key:"genSquareUI",value:function(e){var t=this.props.squares;return Object(l.jsx)(h,{position:e,info:t[e],onClick:this.props.onClickSquare})}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"cmp-board",children:[Object(l.jsxs)("div",{className:"row",children:[this.genSquareUI(0),this.genSquareUI(1),this.genSquareUI(2)]}),Object(l.jsxs)("div",{className:"row",children:[this.genSquareUI(3),this.genSquareUI(4),this.genSquareUI(5)]}),Object(l.jsxs)("div",{className:"row",children:[this.genSquareUI(6),this.genSquareUI(7),this.genSquareUI(8)]})]})}}]),n}(s.Component),p=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={},s}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.curPlayer,n=e.winResult,s=e.draw;return console.log(s),n.result&&null!==n.winPlayer&&!0!==s?Object(l.jsxs)("div",{children:["\u68cb\u624b\uff1a",n.winPlayer," \u83b7\u80dc"]}):Object(l.jsxs)("div",{children:["\u4e0b\u4e00\u4e2a\u68cb\u624b\uff1a",t]})}}]),n}(s.Component),d=(n(16),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={},s}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.history;return console.log("curStep",t),0===t.length?Object(l.jsx)("div",{className:"history",children:"\u70b9\u51fb\u68cb\u76d8\u5f00\u59cb\u6e38\u620f"}):Object(l.jsx)("div",{className:"history",children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{onClick:this.props.onRemakeGame,children:"\u91cd\u65b0\u5f00\u59cb\u6e38\u620f"},"start"),t.map((function(t,n){return Object(l.jsxs)("li",{onClick:e.goBack.bind(e,t),children:["#",t.stepCount," : \u68cb\u624b ",t.player," \u4e0b\u5728\u4f4d\u7f6e ",t.position]},n)}))]})})}},{key:"goBack",value:function(e){var t=this.props.onClickHistory;t&&t(e)}}]),n}(s.Component)),b=(n(17),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).handleClickSquare=function(e,t){if(console.log(e,t),!s.iswin().result&&null===t){var n=s.state.history,r=[].concat(Object(a.a)(n.slice(0,s.state.stepCount)),[{stepCount:s.state.stepCount+1,player:s.getCurPlayer(),position:e}]);s.setState({history:r,stepCount:s.state.stepCount+1,squares:s.updataSquares(r,s.state.stepCount+1)})}},s.handleClickHistory=function(e){console.log(e),s.setState({stepCount:e.stepCount,squares:s.updataSquares(s.state.history,e.stepCount)})},s.handleRemake=function(){s.setState((function(e){return{stepCount:0,squares:s.updataSquares(e.history,0)}}))},s.state={squares:new Array(9).fill(null),stepCount:0,history:[]},s}return Object(c.a)(n,[{key:"getCurPlayer",value:function(){return this.state.stepCount%2===0?"X":"O"}},{key:"render",value:function(){var e=this.state,t=e.history,n=e.squares;return Object(l.jsxs)("div",{className:"game-box",children:[Object(l.jsx)("div",{className:"leftPanle",children:Object(l.jsx)(j,{squares:n,onClickSquare:this.handleClickSquare})}),Object(l.jsxs)("div",{className:"rightPanle",children:[Object(l.jsx)(p,{curPlayer:this.getCurPlayer(),winResult:this.iswin()}),Object(l.jsx)(d,{history:t,onClickHistory:this.handleClickHistory,onRemakeGame:this.handleRemake})]})]})}},{key:"iswin",value:function(){var e=!1,t=null,n=!0,s=this.state,r=s.squares,a=s.stepCount;console.log(r),console.log(a);for(var i=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],c=0;c<i.length;c++){var o=i[c],u=r[o[0]],l=r[o[1]],h=r[o[2]];if(null!==u&&u===l&&l===h){e=!0,t=u,n=!1;break}}return{draw:n,result:e,winPlayer:t}}},{key:"updataSquares",value:function(e,t){for(var n=new Array(9).fill(null),s=0;s<t;s++){var r=e[s];n[r.position]=r.player}return n}}]),n}(s.Component));Object(r.render)(Object(l.jsx)("div",{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.9dfb105f.chunk.js.map